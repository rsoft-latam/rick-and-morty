{"ast":null,"code":"var eventListenerOptions;\nvar eventMap = new WeakMap();\nfunction getOptions() {\n  if (eventListenerOptions !== undefined) {\n    return eventListenerOptions;\n  }\n  var supportPassiveEvent = false;\n  try {\n    var noop = function () {};\n    var options = Object.defineProperty({}, 'passive', {\n      enumerable: true,\n      get: function () {\n        supportPassiveEvent = true;\n        return true;\n      }\n    });\n    window.addEventListener('testPassive', noop, options);\n    window.removeEventListener('testPassive', noop, options);\n  } catch (e) {}\n  eventListenerOptions = supportPassiveEvent ? {\n    passive: false\n  } : false;\n  return eventListenerOptions;\n}\nexport function eventScope(scrollbar) {\n  var configs = eventMap.get(scrollbar) || [];\n  eventMap.set(scrollbar, configs);\n  return function addEvent(elem, events, fn) {\n    function handler(event) {\n      // ignore default prevented events\n      if (event.defaultPrevented) {\n        return;\n      }\n      fn(event);\n    }\n    events.split(/\\s+/g).forEach(function (eventName) {\n      configs.push({\n        elem: elem,\n        eventName: eventName,\n        handler: handler\n      });\n      elem.addEventListener(eventName, handler, getOptions());\n    });\n  };\n}\nexport function clearEventsOn(scrollbar) {\n  var configs = eventMap.get(scrollbar);\n  if (!configs) {\n    return;\n  }\n  configs.forEach(function (_a) {\n    var elem = _a.elem,\n      eventName = _a.eventName,\n      handler = _a.handler;\n    elem.removeEventListener(eventName, handler, getOptions());\n  });\n  eventMap.delete(scrollbar);\n}\n//# sourceMappingURL=event-hub.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}